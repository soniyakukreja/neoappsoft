{"ast":null,"code":"import _slicedToArray from\"/home/neosoft/Desktop/neoappsoft/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{connect}from\"react-redux\";import{useRouteMatch,Link,withRouter}from\"react-router-dom\";import axios from\"axios\";import{useState,useEffect}from\"react\";import $ from'jquery';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CartSummary(props){var _props$user_cart,_props$user_cart2;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),current_check_step=_useState2[0],setCurrentCheckStep=_useState2[1];//console.log('summary props',props)\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),check_stage=_useState4[0],setCheck_stage=_useState4[1];//console.log('check_stage',check_stage)\nvar route=useRouteMatch();var url=route.url;var path=route.path;var TotalPrice=0;var Count=0;var confirm_summary=function confirm_summary(e){setCheck_stage(2);// console.log('after check_stage',check_stage)\nprops.dispatch({type:\"CHECKOUT_STAGE\",payload:2});props.history.push(\"/checkout/address\");};var navbarLink=function navbarLink(url,link_index,event){event.preventDefault();// console.log('link_index',link_index)\n//console.log('props.checkout_step',props.checkout_step)\n//if(link_index <= props.checkout_step){\nprops.dispatch({type:\"UPDATE_CHECKOUT_STEP\",click_no:link_index});props.history.push(url);// }\n};function enableLinks(index,bgColor){$('ul.checkout-navbar > a:eq('+index+')').removeClass('cursor-default');$('ul.checkout-navbar > a > li:eq('+index+')').removeClass('bg-light disabled-link text-muted');$('ul.checkout-navbar > a > li:eq('+index+')').addClass(bgColor+' text-white');}function disableLinks(){$('ul.checkout-navbar > a').addClass('cursor-default');$('ul.checkout-navbar > a > li').addClass('bg-light disabled-link text-muted');}useEffect(function(){props.dispatch({type:\"UPDATE_CURRENT_CHECKOUT_STEP\",payload:1});},[]);// useEffect(() => {\n// disableLinks()\n// if(props.clicked_step <= props.checkout_step){\n//     for (var i = 0; i < props.checkout_step; i++) {\n//         enableLinks(i, 'light-warning')\n//     }\n//     enableLinks(props.clicked_step -1, 'bg-warning') \n// } \n//}, []);\nvar updateClickStep=function updateClickStep(step){props.dispatch({type:\"UPDATE_CURRENT_CHECKOUT_STEP\",payload:step});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-hover\",children:((_props$user_cart=props.user_cart)===null||_props$user_cart===void 0?void 0:_props$user_cart.length)>0?/*#__PURE__*/_jsxs(_Fragment,{children:[((_props$user_cart2=props.user_cart)===null||_props$user_cart2===void 0?void 0:_props$user_cart2.length)>0&&props.user_cart.map(function(each,index){TotalPrice+=each.price;Count+=1;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:each.image,className:\"\",alt:\"...\",style:{height:\"40px\",width:\"40px\"}})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:each.name}),/*#__PURE__*/_jsx(\"td\",{className:\"text-right\",children:each.price})]},index);}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Total Amount\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"b\",{children:TotalPrice})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colSpan:\"3\",className:\"text-center\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:updateClickStep(2),children:\"Next\"}),\" \"]})})]}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"text-danger\",children:\"Cart is Empty\"})})})});}export default connect(function(state,props){var _state$user;return{token:state===null||state===void 0?void 0:(_state$user=state.user)===null||_state$user===void 0?void 0:_state$user.token,user_cart:state===null||state===void 0?void 0:state.user_cart,current_check_step:state===null||state===void 0?void 0:state.current_check_step,done_check_steps:state===null||state===void 0?void 0:state.done_check_steps};})(CartSummary);","map":{"version":3,"sources":["/home/neosoft/Desktop/neoappsoft/src/CartSummary.js"],"names":["connect","useRouteMatch","Link","withRouter","axios","useState","useEffect","$","CartSummary","props","current_check_step","setCurrentCheckStep","check_stage","setCheck_stage","route","url","path","TotalPrice","Count","confirm_summary","e","dispatch","type","payload","history","push","navbarLink","link_index","event","preventDefault","click_no","enableLinks","index","bgColor","removeClass","addClass","disableLinks","updateClickStep","step","user_cart","length","map","each","price","image","height","width","name","state","token","user","done_check_steps"],"mappings":"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","sourcesContent":["import {connect} from \"react-redux\"\nimport { useRouteMatch, Link, withRouter } from \"react-router-dom\"\nimport axios from \"axios\"\nimport { useState, useEffect } from \"react\";\nimport $ from 'jquery';\n\nfunction CartSummary(props){\n\n    var [current_check_step,setCurrentCheckStep] = useState(1)\n    //console.log('summary props',props)\n    var [check_stage,setCheck_stage] = useState(1)\n\n    //console.log('check_stage',check_stage)\n    var route =  useRouteMatch()\n    var url = route.url\n    var path = route.path\n    var TotalPrice = 0\n    var Count = 0\n\n    let confirm_summary = (e)=>{\n        setCheck_stage(2)\n       // console.log('after check_stage',check_stage)\n        props.dispatch({\n            type: \"CHECKOUT_STAGE\",\n            payload: 2,\n        });\n        props.history.push(\"/checkout/address\");\n    }\n\n    const navbarLink = (url, link_index, event) => {\n        event.preventDefault()\n       // console.log('link_index',link_index)\n        //console.log('props.checkout_step',props.checkout_step)\n        //if(link_index <= props.checkout_step){\n            props.dispatch({\n                type: \"UPDATE_CHECKOUT_STEP\",\n                click_no: link_index,\n            });\n            props.history.push(url);\n       // }\n      };\n    \n\n\n    function enableLinks(index, bgColor){\n        $('ul.checkout-navbar > a:eq('+ index +')')\n                    .removeClass('cursor-default');\n        $('ul.checkout-navbar > a > li:eq('+ index +')')\n                    .removeClass('bg-light disabled-link text-muted');\n        $('ul.checkout-navbar > a > li:eq('+ index +')')\n                    .addClass(bgColor + ' text-white');\n    }\n    \n    function disableLinks(){\n        $('ul.checkout-navbar > a')\n                    .addClass('cursor-default');\n        $('ul.checkout-navbar > a > li')\n                    .addClass('bg-light disabled-link text-muted');\n    }\n\n    useEffect(() => {\n     \n        props.dispatch({\n            type: \"UPDATE_CURRENT_CHECKOUT_STEP\",\n            payload: 1,\n        });\n\n    }, []); \n   // useEffect(() => {\n        // disableLinks()\n        // if(props.clicked_step <= props.checkout_step){\n        //     for (var i = 0; i < props.checkout_step; i++) {\n        //         enableLinks(i, 'light-warning')\n        //     }\n        //     enableLinks(props.clicked_step -1, 'bg-warning') \n        // } \n       \n    //}, []);\n\n\n\n    var updateClickStep = (step)=>{\n        props.dispatch({\n            type: \"UPDATE_CURRENT_CHECKOUT_STEP\",\n            payload: step,\n        });\n    }\n\n    return(\n        <>\n        <table className=\"table table-hover\">\n        {props.user_cart?.length >0  ? \n        <>\n        {props.user_cart?.length >0 && props.user_cart.map((each,index) => {\n            TotalPrice += each.price\n            Count += 1\n\n            return(\n\n                <tr key={index}>\n                    <td className=\"text-center\">\n                        <img src={each.image} className=\"\"  alt=\"...\" style={{height:\"40px\", width:\"40px\"}}  />\n                    </td>\n                    <td className=\"text-center\">\n                        {each.name}\n                    </td>\n                    <td className=\"text-right\">\n                        {each.price}\n                    </td>\n                </tr>\n            )\n        })}   \n        \n            \n            <tr>\n            <td></td>\n                <td  className=\"text-right\"><b>Total Amount</b></td>\n                <td className=\"text-right\"><b>{TotalPrice}</b></td>\n            </tr>\n            <tr><td colSpan=\"3\" className=\"text-center\"> <button className=\"btn btn-success\" onClick={updateClickStep(2)} >Next</button> </td></tr>\n            </>\n            :<tr><td colSpan=\"3\" className=\"text-danger\">Cart is Empty</td></tr>\n            }\n        </table>\n        </>\n    )\n}\n\nexport default connect(function (state, props) {\n    \n    return {\n        token: state?.user?.token,\n        user_cart: state?.user_cart,\n        current_check_step: state?.current_check_step,\n        done_check_steps: state?.done_check_steps\n    };\n    })(CartSummary)\n"]},"metadata":{},"sourceType":"module"}