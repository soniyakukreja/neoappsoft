{"ast":null,"code":"import _objectSpread from\"/home/neosoft/Desktop/neoappsoft/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/neosoft/Desktop/neoappsoft/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{Link,withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){useEffect(function(){},[]);var _useState=useState(),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var getEmail=function getEmail(event){setUser(_objectSpread(_objectSpread({},user),{},{email:event.target.value}));};var getPassword=function getPassword(event){setUser(_objectSpread(_objectSpread({},user),{},{password:event.target.value}));};var login=function login(){if(user.email&&user.password){setErrorMessage(\"Login Successfully\");var apiurl=\"https://apibyashu.herokuapp.com/api/login\";axios({url:apiurl,method:\"post\",data:user}).then(function(response){if(response.data.token){localStorage.token=response.data.token;props.dispatch({type:\"LOGIN\",payload:response.data});props.history.push(\"/\");setErrorMessage(\"Login Successfully\");}else{setErrorMessage(\"Invalid credentials\");}},function(error){setErrorMessage(\"Error from Login api \"+error);});}else{setErrorMessage(\"Invalid Login\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"50%\",margin:\"auto\"},className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Login Section \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",onChange:getEmail}),user&&/*#__PURE__*/_jsx(\"label\",{children:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",onChange:getPassword}),user&&/*#__PURE__*/_jsx(\"label\",{children:user.password})]}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:errorMessage}),/*#__PURE__*/_jsx(\"div\",{style:{float:'right'},children:/*#__PURE__*/_jsx(Link,{to:\"/forgot\",children:\"Forgot password\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"New User? Click Here\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:login,children:\"Login\"})]});}Login=withRouter(Login);export default connect()(Login);","map":{"version":3,"sources":["/home/neosoft/Desktop/neoappsoft/src/Login.js"],"names":["useState","useEffect","axios","Link","withRouter","connect","Login","props","errorMessage","setErrorMessage","user","setUser","getEmail","event","email","target","value","getPassword","password","login","apiurl","url","method","data","then","response","token","localStorage","dispatch","type","payload","history","push","error","width","margin","color","float"],"mappings":"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","sourcesContent":["import {useState,useEffect} from \"react\"\nimport axios from \"axios\"\nimport { Link ,withRouter } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\n\n\n\nfunction Login(props)\n{\n\n    useEffect(()=>{\n       \n    },[])\n\t\n    var [errorMessage,setErrorMessage]=useState()\n\n    var [user,setUser]=useState({})\n\n    let getEmail=(event)=>\n    {\n        setUser({\n            ...user,\n            email:event.target.value,\n        })\n    }\n    let getPassword=(event)=>\n    {\n        setUser({\n            ...user,\n            password:event.target.value,\n        })\n    }\n\n    let login = ()=>{\n        if(user.email && user.password){\n            setErrorMessage(\"Login Successfully\")\n        \n        let apiurl=\"https://apibyashu.herokuapp.com/api/login\"\n           axios({\n                url:apiurl,\n                method:\"post\",\n                data:user\n           }).then((response)=>{\n              if(response.data.token)\n              {\n                localStorage.token = response.data.token\n                props.dispatch({\n                  type:\"LOGIN\",\n                  payload:response.data\n                })\n                props.history.push(\"/\")\n                setErrorMessage(\"Login Successfully\")\n              }else\n              {\n                setErrorMessage(\"Invalid credentials\")\n              }\n           },(error)=>{\n            setErrorMessage(\"Error from Login api \"+error)  \n           })\n        }\n        else{\n           setErrorMessage(\"Invalid Login\")\n        }\n    }\n\t\n\t\treturn(\n            \n\t\t\t<div style={{width:\"50%\" , margin:\"auto\"}} className=\"col-md-6\">\n              <h2> Login Section </h2>\n                <div className=\"form-group\">\n                    <label>Email</label>\n                <input type=\"email\" className=\"form-control\" onChange={getEmail}></input>\n                   { user && <label>{user.email}</label> }\n                </div>\n                <div className=\"form-group\">\n                <label>Password</label>\n                <input type=\"password\" className=\"form-control\" onChange={getPassword}></input>\n                   {user && <label>{user.password}</label> }\n                </div>\n                <div style={{color:\"red\"}}>\n                    {errorMessage}\n                </div>\n                <div style={{float:'right'}}>\n                  <Link to=\"/forgot\">Forgot password</Link>\n                </div>\n                <div>\n                  <Link to=\"/signup\">New User? Click Here</Link>\n                </div>\n              <button className=\"btn btn-primary\" onClick={login}>Login</button>\n            </div>\n\t\t)\n\t\n}\n\nLogin = withRouter(Login)\n\nexport default connect()(Login);"]},"metadata":{},"sourceType":"module"}