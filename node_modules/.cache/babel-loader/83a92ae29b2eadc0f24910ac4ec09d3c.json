{"ast":null,"code":"import _slicedToArray from\"/home/neosoft/Desktop/neoappsoft/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import Cake from'./Cake';import Carousel from'./Carousel';import{useEffect,useState}from\"react\";import queryString from\"query-string\";import Spinner from\"./UI/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Search(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var parsed=queryString.parse(props.location.search);// console.log(props.location.search)\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cakesearch=_useState4[0],setCakes=_useState4[1];//using query string \nvar apisearchurl=\"https://apibyashu.herokuapp.com/api/searchcakes?q=\"+parsed.q;useEffect(function(){setLoading(true);axios({url:apisearchurl,method:\"get\"}).then(function(response){console.log(\"response from search api\",response.data);setCakes(response.data.data);setLoading(false);},function(error){console.log(\"error from search api\",error);setLoading(false);});},[props.location.search]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Carousel,{}),loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"searchcakes\",style:{marginTop:\"20px\",paddingLeft:\"30px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Searched Selection\"}),(cakesearch===null||cakesearch===void 0?void 0:cakesearch.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:(cakesearch===null||cakesearch===void 0?void 0:cakesearch.length)>0?cakesearch.map(function(each,index){return/*#__PURE__*/_jsx(Cake,{cakedat:each},index);}):''}):/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger text-center m-3\",children:/*#__PURE__*/_jsx(\"center\",{children:\" No result found\"})})]})]});}export default Search;","map":{"version":3,"sources":["/home/neosoft/Desktop/neoappsoft/src/Search.js"],"names":["axios","Cake","Carousel","useEffect","useState","queryString","Spinner","Search","props","loading","setLoading","parsed","parse","location","search","cakesearch","setCakes","apisearchurl","q","url","method","then","response","console","log","data","error","marginTop","paddingLeft","length","map","each","index"],"mappings":"mHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAAQC,SAAR,CAAoBC,QAApB,KAAmC,OAAnC,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,cAApB,C,6IAEA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CACA,eACkCJ,QAAQ,CAAC,KAAD,CAD1C,wCACWK,OADX,eACoBC,UADpB,eAEI,GAAMC,CAAAA,MAAM,CAAGN,WAAW,CAACO,KAAZ,CAAkBJ,KAAK,CAACK,QAAN,CAAeC,MAAjC,CAAf,CACD;AAHH,eAKiCV,QAAQ,CAAC,EAAD,CALzC,yCAKYW,UALZ,eAKuBC,QALvB,eAOQ;AACA,GAAIC,CAAAA,YAAY,CAAC,qDAAqDN,MAAM,CAACO,CAA7E,CACAf,SAAS,CAAC,UAAM,CACZO,UAAU,CAAC,IAAD,CAAV,CACAV,KAAK,CAAC,CACFmB,GAAG,CAACF,YADF,CAEFG,MAAM,CAAC,KAFL,CAAD,CAAL,CAGGC,IAHH,CAGQ,SAACC,QAAD,CAAY,CAChBC,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwCF,QAAQ,CAACG,IAAjD,EACAT,QAAQ,CAACM,QAAQ,CAACG,IAAT,CAAcA,IAAf,CAAR,CACAf,UAAU,CAAC,KAAD,CAAV,CACH,CAPD,CAOE,SAACgB,KAAD,CAAS,CACPH,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAoCE,KAApC,EACAhB,UAAU,CAAC,KAAD,CAAV,CACH,CAVD,EAWH,CAbQ,CAaN,CAACF,KAAK,CAACK,QAAN,CAAeC,MAAhB,CAbM,CAAT,CAeJ,mBACI,wCACA,KAAC,QAAD,IADA,CAECL,OAAO,cACN,KAAC,OAAD,IADM,cAGR,aAAK,SAAS,CAAC,aAAf,CAA6B,KAAK,CAAE,CAACkB,SAAS,CAAC,MAAX,CAAkBC,WAAW,CAAC,MAA9B,CAApC,wBACC,+CADD,CAEK,CAAAb,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEc,MAAZ,EAAoB,CAApB,cACH,YAAK,SAAS,CAAC,KAAf,UACI,CAAAd,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEc,MAAZ,EAAqB,CAArB,CAAyBd,UAAU,CAACe,GAAX,CAAe,SAACC,IAAD,CAAOC,KAAP,CAAe,CACzD,mBAAO,KAAC,IAAD,EAAM,OAAO,CAAED,IAAf,EAA0BC,KAA1B,CAAP,CACD,CAF4B,CAAzB,CAEC,EAHL,EADG,cAKC,YAAK,SAAS,CAAC,oCAAf,uBAAoD,4CAApD,EAPN,GALA,GADJ,CAkBH,CACD,cAAezB,CAAAA,MAAf","sourcesContent":["import axios from 'axios'\nimport Cake from './Cake';\nimport Carousel from './Carousel'\nimport {useEffect , useState} from \"react\";\nimport queryString from \"query-string\"\nimport Spinner from \"./UI/Spinner\";\n\nfunction Search(props)\n{       \n    const [loading, setLoading] = useState(false);\n    const parsed = queryString.parse(props.location.search)\n   // console.log(props.location.search)\n\n       let [cakesearch,setCakes]=useState([])\n  \n        //using query string \n        let apisearchurl=\"https://apibyashu.herokuapp.com/api/searchcakes?q=\"+parsed.q\n        useEffect(() => {\n            setLoading(true);\n            axios({\n                url:apisearchurl,\n                method:\"get\",\n            }).then((response)=>{\n                console.log(\"response from search api\" ,response.data)\n                setCakes(response.data.data)\n                setLoading(false);\n            },(error)=>{\n                console.log(\"error from search api\",error)\n                setLoading(false);\n            })\n        }, [props.location.search])\n            \n    return (\n        <>\n        <Carousel />\n        {loading ? (\n          <Spinner />\n        ) : (\n        <div className=\"searchcakes\" style={{marginTop:\"20px\",paddingLeft:\"30px\"}}>\n         <h2>Your Searched Selection</h2>\n            {cakesearch?.length >0 ?\n          <div className=\"row\">\n            { cakesearch?.length > 0 ? cakesearch.map((each, index)=>{\n\t\t          return <Cake cakedat={each} key={index}/>\n\t\t        }) : ''\n\t\t    }</div>:<div className=\"alert alert-danger text-center m-3\"><center> No result found</center></div>}\n          \n        </div> )}\n        </>\n    )\n}\nexport default Search"]},"metadata":{},"sourceType":"module"}