(this.webpackJsonpneoappsoft=this.webpackJsonpneoappsoft||[]).push([[0],{52:function(e,t,c){},53:function(e,t,c){},79:function(e,t,c){},88:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(23),r=c.n(n),l=(c(52),c(4)),o=(c.p,c(53),c(6)),i=c(0);var d=function(e){return Object(i.jsxs)("div",{className:"card",style:{width:"18rem",cursor:"pointer",marginLeft:"3px",marginRight:"3px",marginBottom:"3px",marginTop:"3px"},children:[Object(i.jsx)(o.b,{to:"/cake/"+e.cakedat.cakeid,children:Object(i.jsx)("img",{src:e.cakedat.image,style:{width:"18rem",height:"200px",padding:"10px"},className:"card-img-top",alt:"..."})}),Object(i.jsx)("h5",{className:"card-title text-center ",children:Object(i.jsx)("b",{children:e.cakedat.name})})]})},j=c(8),b=c.n(j),u={height:"310px"};var h=function(){return Object(i.jsx)("div",{id:"carouselExampleSlidesOnly",className:"carousel slide","data-ride":"carousel",children:Object(i.jsxs)("div",{className:"carousel-inner",children:[Object(i.jsx)("div",{className:"carousel-item active",children:Object(i.jsx)("img",{src:"carousel1.jpeg",style:u,className:"d-block w-100",alt:"..."})}),Object(i.jsx)("div",{className:"carousel-item",children:Object(i.jsx)("img",{src:"carousel2.jpeg",style:u,className:"d-block w-100",alt:"..."})}),Object(i.jsx)("div",{className:"carousel-item",children:Object(i.jsx)("img",{src:"carousel3.jpeg",style:u,className:"d-block w-100",alt:"..."})})]})})},m=(c(79),function(){return Object(i.jsx)("div",{className:"Loader",children:"Loading..."})});var p=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(l.a)(n,2),o=r[0],j=r[1];return Object(a.useEffect)((function(){s(!0),b()({url:"https://apibyashu.herokuapp.com/api/allcakes",method:"get"}).then((function(e){j(e.data.data),s(!1)}),(function(e){console.log("Error from AllCakes api",e),s(!1)}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(h,{}),c?Object(i.jsx)(m,{}):Object(i.jsx)("div",{className:"row",children:(null===o||void 0===o?void 0:o.length)>0&&o.map((function(e,t){return Object(i.jsx)(d,{cakedat:e},t)}))})]})},O=c(3),x=c(7),v=c(20),g=c(17);function f(e){console.log("nav props",e);var t=Object(a.useState)(""),c=Object(l.a)(t,2),s=c[0],n=c[1];return Object(i.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light ",style:{backgroundColor:"#043d76"},children:[Object(i.jsxs)(o.b,{to:"/",children:[" ",Object(i.jsx)("a",{className:"navbar-brand title text-light",children:Object(i.jsx)("b",{children:"My cakeshop"})})]}),Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(i.jsx)("ul",{className:"navbar-nav mr-auto  text-light",children:e.user&&Object(i.jsxs)("li",{children:["Welcome ",e.user]})}),Object(i.jsxs)("form",{className:"form-inline my-2 my-lg-0",children:[Object(i.jsx)("input",{className:"form-control mr-sm-2",onChange:function(e){n(e.target.value)},type:"search",placeholder:"Search","aria-label":"Search"}),Object(i.jsx)(o.b,{to:"/search?q=".concat(s),children:Object(i.jsx)("button",{className:"btn my-2 my-sm-0 text-light",style:{backgroundColor:"#1e77d07a"},type:"button",children:Object(i.jsx)(v.a,{icon:g.b})})})]}),Object(i.jsx)("div",{children:e.loginstatus?Object(i.jsxs)("div",{children:[Object(i.jsxs)(o.b,{to:"/cart",className:"btn m-2 my-sm-0 mr-2 text-light",style:{backgroundColor:"#1e77d07a"},children:[Object(i.jsx)(v.a,{icon:g.c}),Object(i.jsx)("b",{className:"pl-1",children:e.cart_data_length>0?e.cart_data_length:""})]}),Object(i.jsx)("button",{onClick:function(t){t.preventDefault(),e.dispatch({type:"LOGOUT"}),e.history.push("/")},className:"btn btn-danger  m-2",children:"Logout"})]}):Object(i.jsxs)(o.b,{to:"/login",children:[" ",Object(i.jsx)("button",{className:"btn text-light m-2",style:{backgroundColor:"#1e77d07a"},children:"Login"})]})})]})]})}f=Object(O.i)(f);var N=Object(x.b)((function(e,t){var c,a;return{user:null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.name,loginstatus:null===e||void 0===e?void 0:e.isloggedin,cart_data_length:null===e||void 0===e||null===(a=e.user_cart)||void 0===a?void 0:a.length}}))(f),y=c(42),k=c(43),_=c(26),C=c(47),S=c(45),E=function(e){Object(C.a)(c,e);var t=Object(S.a)(c);function c(){var e;return Object(y.a)(this,c),(e=t.call(this)).user={},e.getName=function(t){e.user.name=t.target.value},e.getEmail=function(t){e.user.email=t.target.value},e.getPassword=function(t){e.user.password=t.target.value},e.register=function(){if(e.user.email&&e.user.password&&e.user.name){e.setState({errorMessage:null});b()({url:"https://apibyashu.herokuapp.com/api/register",method:"post",data:e.user}).then((function(e){console.log("Response from signup api",e.data)}),(function(e){console.log("Error from signup api",e)}))}else e.setState({errorMessage:"Please Fill Details"});console.log("...... user details",e.user)},e.goOnline=function(){console.log("......",Object(_.a)(e)),e.setState({onlineUsers:e.state.onlineUsers+1})},e.state={onlineUsers:0},e}return Object(k.a)(c,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(i.jsxs)("div",{style:{width:"50%",margin:"auto"},className:"col-md-6",children:[Object(i.jsx)("h2",{children:" Signup Section "}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Name"}),Object(i.jsx)("input",{type:"text",className:"form-control",onChange:this.getName})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Email"}),Object(i.jsx)("input",{type:"email",className:"form-control",onChange:this.getEmail})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Password"}),Object(i.jsx)("input",{type:"password",className:"form-control",onChange:this.getPassword})]}),Object(i.jsx)("div",{style:{color:"red"},children:this.state.errorMessage}),Object(i.jsx)("button",{className:"btn text-light form-control",style:{backgroundColor:"#043d76"},onClick:this.register,children:"Register"})]})}}]),c}(a.Component),w=c(10);function T(e){var t=Object(a.useState)(!1),c=Object(l.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)({}),d=Object(l.a)(r,2),j=d[0],u=d[1],h=Object(a.useState)(),p=Object(l.a)(h,2),O=p[0],x=p[1],v=Object(a.useState)(),g=Object(l.a)(v,2),f=g[0],N=g[1],y=Object(a.useState)({}),k=Object(l.a)(y,2),_=k[0],C=k[1];return s?Object(i.jsx)(m,{}):Object(i.jsxs)("div",{style:{width:"50%",margin:"auto"},className:"col-md-6",children:[Object(i.jsx)("h2",{children:" Login Here ! "}),Object(i.jsxs)("form",{id:"login",children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Email"}),Object(i.jsx)("input",{type:"email",id:"email",className:"form-control",onChange:function(e){C(Object(w.a)(Object(w.a)({},_),{},{email:e.target.value}))}}),(null===j||void 0===j?void 0:j.email)&&Object(i.jsxs)("div",{className:"form-error",children:[" ",Object(i.jsx)("div",{children:j.email})]})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Password"}),Object(i.jsx)("input",{type:"password",id:"password",className:"form-control",onChange:function(e){C(Object(w.a)(Object(w.a)({},_),{},{password:e.target.value}))}}),(null===j||void 0===j?void 0:j.password)&&Object(i.jsxs)("div",{className:"form-error",children:[" ",Object(i.jsx)("div",{children:j.password})]})]}),Object(i.jsx)("div",{style:{color:"red"},className:"text-center",children:O}),f?Object(i.jsx)("div",{style:{color:"green"},className:"text-center",children:f}):"",Object(i.jsx)("button",{className:"btn text-light form-control text-center my-2",style:{backgroundColor:"#043d76"},onClick:function(t){t.preventDefault();var c=function(e){var t={};return e.email.value||(t.email="Email is Required"),e.password.value||(t.password="Password is Required"),Object.keys(t).length>0&&t}(document.getElementById("login").elements);if(c)console.log("errors",c),u(c);else if(u({}),n(!0),_.email&&_.password){b()({url:"https://apibyashu.herokuapp.com/api/login",method:"post",data:_}).then((function(t){t.data.token?(localStorage.token=t.data.token,x(""),N("Logged In Successfully"),e.dispatch({type:"LOGIN",payload:t.data}),e.history.push("/")):(x("Invalid credentials"),N("")),n(!1)}),(function(e){x("Error from Login api "+e),N(""),n(!1)}))}else x("Validation Failed"),N("")},children:"Login"})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)(o.b,{to:"/signup",style:{float:"left"},children:"New User? Click Here"})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)(o.b,{to:"/forgotpass",style:{float:"right"},children:"Forgot password"})})]})]})}T=Object(O.i)(T);var A=Object(x.b)()(T),R=c(44),P=c.n(R);var D=function(e){var t=Object(a.useState)(!1),c=Object(l.a)(t,2),s=c[0],n=c[1],r=P.a.parse(e.location.search),o=Object(a.useState)([]),j=Object(l.a)(o,2),u=j[0],p=j[1],O="https://apibyashu.herokuapp.com/api/searchcakes?q="+r.q;return Object(a.useEffect)((function(){n(!0),b()({url:O,method:"get"}).then((function(e){console.log("response from search api",e.data),p(e.data.data),n(!1)}),(function(e){console.log("error from search api",e),n(!1)}))}),[e.location.search]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(h,{}),s?Object(i.jsx)(m,{}):Object(i.jsxs)("div",{className:"searchcakes",style:{marginTop:"20px",paddingLeft:"30px"},children:[Object(i.jsx)("h2",{children:"Your Searched Selection"}),(null===u||void 0===u?void 0:u.length)>0?Object(i.jsx)("div",{className:"row",children:(null===u||void 0===u?void 0:u.length)>0?u.map((function(e,t){return Object(i.jsx)(d,{cakedat:e},t)})):""}):Object(i.jsx)("div",{className:"alert alert-danger text-center m-3",children:Object(i.jsx)("center",{children:" No result found"})})]})]})};var U=Object(i.jsx)(v.a,{icon:g.a});var I=Object(x.b)((function(e,t){var c;return{user:null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.name,loginstatus:null===e||void 0===e?void 0:e.isloggedin}}))((function(e){var t=Object(a.useState)(!1),c=Object(l.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)({}),o=Object(l.a)(r,2),d=o[0],j=o[1],u=Object(O.g)();return Object(a.useEffect)((function(){n(!0);var e="https://apibyashu.herokuapp.com/api/cake/"+u.cakeid;b()({method:"get",url:e}).then((function(e){j(e.data.data),n(!1)}),(function(e){console.log("error found",e),n(!1)}))}),[]),s?Object(i.jsx)(m,{}):Object(i.jsx)("div",{className:"cakedetails",style:{marginTop:"20px",paddingLeft:"30px"},children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-4",children:Object(i.jsx)("img",{src:d.image,style:{height:"400px",width:"390px"},className:"card-img-top",alt:"..."})}),Object(i.jsxs)("div",{className:"col-md-6 ml-3",children:[Object(i.jsxs)("div",{className:"row ",children:[Object(i.jsxs)("div",{className:"col-2",children:[" ",Object(i.jsx)("strong",{class:"reviewPoint",style:{display:"inline-block",background:"url(https://img.floweraura.com/sites/default/files/ssr/static/media/fill_star.7ae2f2da.svg) no-repeat 0 0",backgroundPosition:"4px 4px",backgroundSize:"19px",padding:"5px 8px 6px 30px",fontSize:"14px",fontWeight:"700",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.25",letterSpacing:"normal",textAlign:"left",color:"#1c2120",borderRadius:"5px",boxShadow:"0 0 10px 0 rgb(0 0 0 / 10%)",backgroundColor:"#fff"},children:"4.7"}),"  "]}),Object(i.jsxs)("div",{className:"col-11",children:[Object(i.jsxs)("h2",{children:[d.name," "]}),"  "]})]}),Object(i.jsx)("center",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"row  mt-2",children:[Object(i.jsx)("div",{className:"col-3",children:Object(i.jsx)("b",{children:"PRICE:"})}),Object(i.jsxs)("div",{className:"col-9",children:[d.price,"/- Rs Only "]})]}),Object(i.jsxs)("div",{className:"row  mt-2",children:[Object(i.jsx)("div",{className:"col-3",children:Object(i.jsx)("b",{children:"INGRIDIENTS:"})}),Object(i.jsx)("div",{className:"col-9",children:"Cake,Cream,Choco Chips "})]}),Object(i.jsxs)("div",{className:"row  mt-2",children:[Object(i.jsx)("div",{className:"col-3",children:Object(i.jsx)("b",{children:"DESCRIPTIONS:"})}),Object(i.jsxs)("div",{className:"col-9",children:[d.description," "]})]}),Object(i.jsxs)("div",{className:"row mt-5",children:[Object(i.jsx)("div",{className:"col-3",children:"    "}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("button",{type:"button",onClick:function(t){if(n(!0),t.preventDefault(),localStorage.token&&e.user){var c=localStorage.token;b()({method:"post",url:"https://apibyashu.herokuapp.com/api/addcaketocart",data:{cakeid:d.cakeid,name:d.name,image:d.image,price:d.price,weight:d.weight},headers:{authtoken:c}}).then((function(t){e.dispatch({type:"ADD_CART_DATA",payload:t.data.data}),alert("Added to your cart"),n(!1),e.history.push("/cart")}),(function(e){}))}else alert("Please Login to proceed"),n(!1)},className:"btn text-uppercase p-2 text-white mr-2 font-weight-bold",style:{backgroundColor:"#043d76"},children:"Add to cart"}),Object(i.jsx)("button",{type:"button",className:"btn btn-danger  text-white font-weight-bold",children:U})]})]})]})]})})}));var L=Object(x.b)((function(e,t){return console.log("cart state",e),{cartDetails:null===e||void 0===e?void 0:e.user_cart}}))((function(e){var t,c;console.log("cart props",e);var a=0,s=0;return Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"row",children:(null===(t=e.cartDetails)||void 0===t?void 0:t.length)>0?Object(i.jsxs)("div",{className:"col-m-12",children:[Object(i.jsx)("div",{className:"col-m-8",children:(null===(c=e.cartDetails)||void 0===c?void 0:c.length)>0&&e.cartDetails.map((function(t,c){return a+=t.price,s+=1,Object(i.jsxs)("div",{className:"row m-3 p-3 border rounded",children:[Object(i.jsx)("div",{className:"col-sm-3",children:Object(i.jsx)("div",{height:"50px",width:"50px",children:Object(i.jsx)("img",{src:t.image,className:"card-img-top",alt:"...",height:"50px"})})}),Object(i.jsx)("div",{className:"col-sm-4",children:t.name}),Object(i.jsx)("div",{className:"col-sm-3",children:t.price}),Object(i.jsx)("div",{className:"col-sm-2",children:Object(i.jsx)("button",{className:"btn btn-danger my-2 my-sm-0",onClick:function(){return c=t.cakeid,void b()({url:"https://apibyashu.herokuapp.com/api/removecakefromcart",method:"post",data:{cakeid:c},headers:{authtoken:localStorage.token}}).then((function(t){t.data&&(e.dispatch({type:"REMOVE_CART_DATA",payload:c}),alert(t.data.message))}),(function(e){console.log("removecart error : ",e)}));var c},children:" Remove"})})]},c)}))}),Object(i.jsxs)("div",{className:"col-m-4",children:[Object(i.jsxs)("div",{className:"row m-3 p-3 border rounded text-center",children:[Object(i.jsxs)("div",{className:"col-sm-6",children:[Object(i.jsx)("u",{children:"Total Items"}),Object(i.jsx)("br",{}),s]}),Object(i.jsxs)("div",{className:"col-sm-6",children:[Object(i.jsx)("u",{children:"Total Price"}),Object(i.jsx)("br",{}),a]})]}),Object(i.jsx)("div",{className:"row m-3 p-3 float-right",children:Object(i.jsx)(o.b,{to:"/checkout",children:Object(i.jsx)("button",{className:"btn btn-success my-2 my-sm-0",children:" Checkout"})})})]})]}):Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:" m-3 text-center",children:"CART is empty"})})})})}));var F=function(){return Object(i.jsx)("div",{children:"Order"})};var q=Object(x.b)((function(e,t){return{current_check_step:null===e||void 0===e?void 0:e.current_check_step,done_check_steps:null===e||void 0===e?void 0:e.done_check_steps}}))((function(e){return Object(a.useEffect)((function(){e.dispatch({type:"UPDATE_CURRENT_CHECKOUT_STEP",payload:3})}),[]),Object(i.jsx)("div",{children:"Paymenty"})}));c(9);var H=Object(x.b)((function(e,t){var c;return{token:null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.token,current_check_step:null===e||void 0===e?void 0:e.current_check_step,done_check_steps:null===e||void 0===e?void 0:e.done_check_steps}}))((function(e){var t=Object(a.useState)(2),c=Object(l.a)(t,2),s=(c[0],c[1],Object(a.useState)({})),n=Object(l.a)(s,2),r=n[0],o=n[1],d=Object(a.useState)({}),j=Object(l.a)(d,2),b=j[0],u=j[1];return Object(a.useEffect)((function(){e.dispatch({type:"UPDATE_CURRENT_CHECKOUT_STEP",payload:2})}),[]),Object(i.jsxs)("div",{style:{width:"90%",margin:"auto"},children:[Object(i.jsx)("h2",{children:" Address Section "}),Object(i.jsxs)("form",{id:"Addressform",children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Name"}),Object(i.jsx)("input",{type:"text",id:"name",name:"name",onChange:function(e){u(Object(w.a)(Object(w.a)({},b),{},{name:e.target.value})),delete r.name},className:"form-control"}),Object(i.jsx)("div",{className:"form-error",children:(null===r||void 0===r?void 0:r.name)&&Object(i.jsx)("div",{children:r.name})})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Phone"}),Object(i.jsx)("input",{type:"text",name:"phone",id:"phone",className:"form-control"}),Object(i.jsx)("div",{className:"form-error",children:(null===r||void 0===r?void 0:r.phone)&&Object(i.jsx)("div",{children:r.phone})})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Address"}),Object(i.jsx)("input",{type:"text",name:"address",id:"address",className:"form-control"}),Object(i.jsx)("div",{className:"form-error",children:r.address})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"City"}),Object(i.jsx)("input",{type:"text",name:"city",id:"city",className:"form-control"}),Object(i.jsx)("div",{className:"form-error",children:r.city})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Pin"}),Object(i.jsx)("input",{type:"text",name:"pin",id:"pin",className:"form-control"}),Object(i.jsx)("div",{className:"form-error",children:r.pin})]}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault();var t=function(e){var t={};return e.name.value||""===e.name.value.trim||(t.name="Name is Required"),e.phone.value||(t.phone="Phone is Required"),e.address.value||(t.address="Address is Required"),e.city.value||(t.city="City is Required"),e.pin.value||(t.pin="Pin is Required"),Object.keys(t).length>0&&t}(document.getElementById("Addressform").elements);t&&o(t)},children:"Place Order"})]})]})}));var M=Object(x.b)((function(e,t){var c;return{token:null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.token,user_cart:null===e||void 0===e?void 0:e.user_cart,current_check_step:null===e||void 0===e?void 0:e.current_check_step,done_check_steps:null===e||void 0===e?void 0:e.done_check_steps}}))((function(e){var t,c,s,n=Object(a.useState)(1),r=Object(l.a)(n,2),o=(r[0],r[1],Object(a.useState)(1)),d=Object(l.a)(o,2),j=(d[0],d[1],Object(O.h)()),b=(j.url,j.path,0);return Object(a.useEffect)((function(){e.dispatch({type:"UPDATE_CURRENT_CHECKOUT_STEP",payload:1})}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("table",{className:"table table-hover",children:(null===(t=e.user_cart)||void 0===t?void 0:t.length)>0?Object(i.jsxs)(i.Fragment,{children:[(null===(c=e.user_cart)||void 0===c?void 0:c.length)>0&&e.user_cart.map((function(e,t){return b+=e.price,1,Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"text-center",children:Object(i.jsx)("img",{src:e.image,className:"",alt:"...",style:{height:"40px",width:"40px"}})}),Object(i.jsx)("td",{className:"text-center",children:e.name}),Object(i.jsx)("td",{className:"text-right",children:e.price})]},t)})),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{}),Object(i.jsx)("td",{className:"text-right",children:Object(i.jsx)("b",{children:"Total Amount"})}),Object(i.jsx)("td",{className:"text-right",children:Object(i.jsx)("b",{children:b})})]}),Object(i.jsx)("tr",{children:Object(i.jsxs)("td",{colSpan:"3",className:"text-center",children:[" ",Object(i.jsx)("button",{className:"btn btn-success",onClick:(s=2,void e.dispatch({type:"UPDATE_CURRENT_CHECKOUT_STEP",payload:s})),children:"Next"})," "]})})]}):Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colSpan:"3",className:"text-danger",children:"Cart is Empty"})})})})}));var K=Object(x.b)((function(e,t){var c;return{token:null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.token,current_check_step:null===e||void 0===e?void 0:e.current_check_step,done_check_steps:null===e||void 0===e?void 0:e.done_check_steps}}))((function(e){var t="px-2 py-3 border-top border-bottom text-decoration-none ";console.log(">>>>>>>>>>>>>>>>>>>current_check_step",e.current_check_step),console.log(">>>>>>>>>>>>>>>>>>>done_check_steps",e.done_check_steps),Object(a.useEffect)((function(){console.log(">>>>>>>inside checkout effect"),e.dispatch({type:"UPDATE_CURRENT_CHECKOUT_STEP",payload:1})}),[]);var c=function(t,c,a){a.preventDefault(),c<=e.checkout_step&&(e.dispatch({type:"UPDATE_CHECKOUT_STEP",click_no:c}),e.history.push(t))},s=Object(O.h)(),n=s.url,r=s.path;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h2",{className:"text-center mt-3",children:"Checkout "}),Object(i.jsxs)("div",{className:"row mt-3",children:[Object(i.jsx)("div",{className:"col-4 px-3",children:Object(i.jsxs)("ul",{class:"nav navbar-nav text-center nav-bar-style checkout-navbar",children:[Object(i.jsx)(o.b,{onClick:function(e){c(n,1,e)},className:"active",style:{textDecoration:"none"},children:Object(i.jsx)("li",{className:t,children:"Cart Summary"})}),Object(i.jsx)(o.b,{onClick:function(e){c(n+"/address",2,e)},style:{textDecoration:"none"},children:Object(i.jsx)("li",{className:t,children:"Address"})}),Object(i.jsx)(o.b,{onClick:function(e){c(n+"/payment",3,e)},style:{textDecoration:"none"},children:Object(i.jsx)("li",{className:t,children:"Payment"})}),Object(i.jsx)(o.b,{onClick:function(e){c(n+"/order",4,e)},style:{textDecoration:"none"},children:Object(i.jsx)("li",{className:t,children:"Order"})})]})}),Object(i.jsxs)("div",{className:"col-8 my-3",children:[Object(i.jsx)(O.b,{exact:!0,path:r,component:M}),Object(i.jsx)(O.b,{exact:!0,path:r+"/payment",component:q}),Object(i.jsx)(O.b,{exact:!0,path:r+"/address",component:H}),Object(i.jsx)(O.b,{exact:!0,path:r+"/order",component:F}),Object(i.jsx)(O.b,{exact:!0,path:r+"/test",component:F})]})]})]})}));Object(x.b)((function(e,t){var c;return{token:null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.token,checkout_stage:null===e||void 0===e?void 0:e.checkout_stage}}))((function(e){console.log("checkout props",e);var t=Object(O.h)(),c=t.url,a=t.path;return e.location.pathname,Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h2",{className:"text-center mt-3",children:"Checkout "}),Object(i.jsxs)("div",{className:"row mt-3",children:[Object(i.jsx)("div",{className:"col-4 px-3",children:Object(i.jsxs)("ul",{className:"",children:[Object(i.jsx)("li",{children:Object(i.jsx)(o.b,{to:"/check",children:"Cart Summary"})}),Object(i.jsx)("li",{children:Object(i.jsx)(o.b,{to:c+"/address",children:"Add Address"})}),Object(i.jsx)("li",{children:Object(i.jsx)(o.b,{to:c+"/payment",children:"Payment"})}),Object(i.jsx)("li",{children:Object(i.jsx)(o.b,{to:c+"/order",children:"Order"})}),Object(i.jsx)("li",{children:Object(i.jsx)(o.b,{to:c+"/test",children:"Test"})})]})}),Object(i.jsxs)("div",{className:"col-8 my-3",children:[Object(i.jsx)(O.b,{path:a,component:H}),Object(i.jsx)(O.b,{exact:!0,path:a+"/payment",component:q}),Object(i.jsx)(O.b,{exact:!0,path:a+"/address",component:H}),Object(i.jsx)(O.b,{exact:!0,path:a+"/order",component:F}),Object(i.jsx)(O.b,{exact:!0,path:a+"/test",component:F})]})]})]})}));var B=Object(x.b)((function(e,t){return{}}))((function(){var e="",t=Object(a.useState)(),c=Object(l.a)(t,2),s=c[0],n=c[1],r=!0;return Object(i.jsxs)("div",{style:{width:"50%",margin:"auto"},className:"col-md-6",children:[Object(i.jsx)("h2",{style:{color:"red"},children:" Find Your Account"}),Object(i.jsx)("p",{children:"Please enter your email address to search for your account."}),Object(i.jsxs)("form",{method:"post",children:[Object(i.jsx)("input",{className:"form-control",onChange:function(t){e=t.target.value},type:"email",id:"email",placeholder:"Email Address",name:"email"}),Object(i.jsx)("div",{className:"text-bold text-danger ",children:s||""}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:function(){""==e.trim()?(n("Email is required"),r=!1):0==/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(e)?(n("Provide a valid Email Address"),r=!1):n(""),console.log("validate",r),r&&b()({url:"https://apibyashu.herokuapp.com/api/recoverpassword",method:"post",data:{email:e}}).then((function(e){e.data.message&&(alert(e.data.message),document.getElementById("email").value=""),e.data.errorMessage&&alert(e.data.errorMessage),console.log("response",e)}),(function(e){}))},type:"button",className:"btn btn-success",children:"Send"})]})]})}));var G=Object(x.b)((function(e,t){var c;return{user:null===e||void 0===e?void 0:e.user,token:null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.token}}))((function(e){console.log("app props",e);var t=Object(a.useState)(),c=Object(l.a)(t,2),s=(c[0],c[1]),n=Object(a.useState)(),r=Object(l.a)(n,2),d=(r[0],r[1]);return Object(a.useEffect)((function(){if(localStorage.token&&!e.user){var t=localStorage.token;b()({url:"https://apibyashu.herokuapp.com/api/getuserdetails",method:"get",headers:{authtoken:t}}).then((function(t){e.dispatch({type:"INITIALIZE_USER",payload:t.data.data}),d(t.data.token)}),(function(e){console.log("response from get user details api : ",e)}))}localStorage.token&&b()({url:"https://apibyashu.herokuapp.com/api/cakecart",method:"post",data:{},headers:{authtoken:localStorage.token}}).then((function(t){e.dispatch({type:"CART_DATA",payload:t.data.data}),s(t.data.token)}),(function(e){console.log("user get cart api error : ",e)}))}),[e.token]),Object(i.jsx)("div",{children:Object(i.jsxs)(o.a,{children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{children:Object(i.jsxs)(O.d,{children:[Object(i.jsx)(O.b,{path:"/",exact:!0,component:p}),Object(i.jsx)(O.b,{path:"/search",exact:!0,component:D}),Object(i.jsx)(O.b,{path:"/cake/:cakeid",exact:!0,component:I}),Object(i.jsx)(O.b,{path:"/login",exact:!0,children:Object(i.jsx)(A,{})}),Object(i.jsx)(O.b,{path:"/signup",exact:!0,component:E}),Object(i.jsx)(O.b,{path:"/forgotpass",exact:!0,component:B}),localStorage.token?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(O.b,{path:"/checkout",component:K}),Object(i.jsx)(O.b,{path:"/cart",exact:!0,component:L})]}):"",Object(i.jsx)(O.b,{path:"/*",children:Object(i.jsx)(O.a,{to:"/"})})]})})]})})})),z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))},V=(c(85),c(86),c(87),c(25)),Z=c(46),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,checkout_step:1,clicked_step:1,current_check_step:1,done_check_steps:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_USER":return(e=Object(w.a)({},e)).isloggedin=!0,e.user=t.payload,e;case"UPDATE_CURRENT_CHECKOUT_STEP":return(e=Object(w.a)({},e)).current_check_step=t.payload,e;case"LOGIN":return(e=Object(w.a)({},e)).isloggedin=!0,e.user=t.payload,e;case"LOGOUT":return e=Object(w.a)({},e),localStorage.clear(),delete e.isloggedin,delete e.user,delete e.user_cart,e;case"CART_DATA":return(e=Object(w.a)({},e)).user_cart=t.payload,e.cart_data_length=e.user_cart.length,e;case"ADD_CART_DATA":e=Object(w.a)({},e);var c=t.payload,a=e.user_cart;return e.user_cart=[].concat(Object(Z.a)(a),[c]),e.cart_data_length=e.user_cart.length,e;case"REMOVE_CART_DATA":return(e=Object(w.a)({},e)).user_cart=e.user_cart.filter((function(e){return e.cakeid!==t.payload})),e.cart_data_length=e.user_cart.length,e;default:return e}};var W=Object(V.b)(J);r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(x.a,{store:W,children:Object(i.jsx)(G,{})})}),document.getElementById("root")),z()}},[[88,1,2]]]);
//# sourceMappingURL=main.d32340d5.chunk.js.map